OPTIONS = NO_SIGOBJ
EXTRA_CLEANS = mosml-comparelogs comparelogs
MLTON_SRCS = mlton-srcs/Binarymap.sml mlton-srcs/Listsort.sml comparelogs.mlb

mosml-comparelogs : mosmlTextIO.ui comparelogs.sml
	$(MOSMLC) -o $@ -toplevel mosmlTextIO.ui comparelogs.sml

mosmlTextIO.ui mosmlTextIO.uo: mosmlTextIO.sml
	$(MOSMLC) -toplevel $<

comparelogs: comparelogs.sml $(MLTON_SRCS)
	mlton comparelogs.mlb

generateBuildSummary: generateBuildSummary.o
	gcc -o $@ $< $(POLY_LDFLAGS)

generateBuildSummary.o: poly-gbs.ML generateBuildSummary.sml
	$(POLY) < $<

