One approach to formal hardware verification starts with a design and
then proves that it satisfies a specification.  In this paper we
repackage some of the ideas underlying such a `verification flow' into
an alternative `synthesis flow' in which implementations are compiled
by proof from specifications.  Starting from a simple functional
specification in higher order logic, we describe a
correct-by-construction compilation to hardware.  The key idea is to
automatically generate theorems of the form $\vdash
{\it{Imp}}\Longrightarrow\DEF{Dev}~f$, where {\it{Imp}} is a term
describing a circuit, $\DEF{Dev}~f$ specifies that function $f$ is
computed by a four-phase handshake and the operator $\Longrightarrow$
means that the implementation meets the specification.  Several
different representations of implementations are created, with the
lowest level corresponding to synthesisable Verilog.


Our system is implemented in HOL4, but the ideas could be
realised in other programmable higher order logic proof systems like
Isabelle, PVS, NuPrl and Coq. In such systems, functions are defined
recursively and then proof scripts are executed to prove properties of
the functions.  Proof scripts are programs that perform sequences of
deductions to create theorems.

In the next section we give a quick overview of the currently
implemented system using a simple (but unrealistic) example. We then
describe the specification of components in higher order logic that
underlies the work. Next we describe how function definitions in
higher order logic are translated to hardware via a sequence of steps,
ending with Verilog.  Some unfinished case studies that are in
progress are then discussed. Finally, we survey related work by
others, and outline our plans for the future. An appendix contains the
definitions of the circuit constructors that we use to build
implementations.
