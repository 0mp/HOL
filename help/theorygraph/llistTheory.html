<HTML>
<HEAD><TITLE>Theory: llist</TITLE></HEAD>
<BODY bgcolor=linen text=midnightblue>
<H1><font color="black">Theory "llist"</font></H1>
<STRONG><font size=+3 color="black">Parents</font></STRONG>&nbsp;&nbsp;&nbsp;&nbsp;
    <A HREF = "listTheory.html"><STRONG><font color="black">list</font></STRONG></A>
    <A HREF = "optionTheory.html"><STRONG><font color="black">option</font></STRONG></A>

<H1><font color="black">Signature</font></H1>
<center>
<table BORDER=4 CELLPADDING=10 CELLSPACING=1>

    <tr>
    <th>
    <font color="crimson">Type</font>
    <th>
    <font color="crimson">Arity</font><tr><td>
                                          <STRONG><font color="black">llist</font></STRONG>
                                          <td>
                                          1
    <tr>
    <th>
    <font color="crimson">Constant</font>
    <th>
    <font color="crimson">Type</font><tr><td>
                                         <STRONG><font color="black">llist_rep</font></STRONG>
                                         <td>
                                         :'a llist -> 'a list -> 'a option
    <tr><td>
        <STRONG><font color="black">lbuildn_rep</font></STRONG>
        <td>
        :('a -> ('a # 'b) option) -> 'a -> num -> ('b list # 'a) option
    <tr><td>
        <STRONG><font color="black">LTAKE</font></STRONG>
        <td>
        :num -> 'a llist -> 'a list option
    <tr><td>
        <STRONG><font color="black">LFLATTEN</font></STRONG>
        <td>
        :'a llist llist -> 'a llist
    <tr><td>
        <STRONG><font color="black">lbuild_rep</font></STRONG>
        <td>
        :('a -> ('a # 'b) option) -> 'a -> 'b list -> 'b option
    <tr><td>
        <STRONG><font color="black">toList</font></STRONG>
        <td>
        :'a llist -> 'a list option
    <tr><td>
        <STRONG><font color="black">LFINITE</font></STRONG>
        <td>
        :'a llist -> bool
    <tr><td>
        <STRONG><font color="black">LFILTER</font></STRONG>
        <td>
        :('a -> bool) -> 'a llist -> 'a llist
    <tr><td>
        <STRONG><font color="black">LMAP</font></STRONG>
        <td>
        :('a -> 'b) -> 'a llist -> 'b llist
    <tr><td> <STRONG><font color="black">LNIL</font></STRONG> <td> :'a llist
    <tr><td>
        <STRONG><font color="black">lrep_ok</font></STRONG>
        <td>
        :('a list -> 'a option) -> bool
    <tr><td>
        <STRONG><font color="black">ldest_rep</font></STRONG>
        <td>
        :('a list -> 'a option) -> ('a # ('a list -> 'a option)) option
    <tr><td>
        <STRONG><font color="black">LNTH</font></STRONG>
        <td>
        :num -> 'a llist -> 'a option
    <tr><td>
        <STRONG><font color="black">lrep_take</font></STRONG>
        <td>
        :('a list -> 'a option) -> num -> 'a list option
    <tr><td>
        <STRONG><font color="black">lnil_rep</font></STRONG>
        <td>
        :'a -> 'b option
    <tr><td>
        <STRONG><font color="black">LL_ALL</font></STRONG>
        <td>
        :('a -> bool) -> 'a llist -> bool
    <tr><td>
        <STRONG><font color="black">never</font></STRONG>
        <td>
        :('a -> bool) -> 'a llist -> bool
    <tr><td>
        <STRONG><font color="black">LAPPEND</font></STRONG>
        <td>
        :'a llist -> 'a llist -> 'a llist
    <tr><td>
        <STRONG><font color="black">LDEST</font></STRONG>
        <td>
        :'a llist -> ('a # 'a llist) option
    <tr><td>
        <STRONG><font color="black">LCONS</font></STRONG>
        <td>
        :'a -> 'a llist -> 'a llist
    <tr><td>
        <STRONG><font color="black">firstPelemAt</font></STRONG>
        <td>
        :('a -> bool) -> num -> 'a llist -> bool
    <tr><td>
        <STRONG><font color="black">LLENGTH</font></STRONG>
        <td>
        :'a llist -> num option
    <tr><td>
        <STRONG><font color="black">LDROP</font></STRONG>
        <td>
        :num -> 'a llist -> 'a llist option
    <tr><td>
        <STRONG><font color="black">LHD</font></STRONG>
        <td>
        :'a llist -> 'a option
    <tr><td>
        <STRONG><font color="black">LTL</font></STRONG>
        <td>
        :'a llist -> 'a llist option
    <tr><td>
        <STRONG><font color="black">lcons_rep</font></STRONG>
        <td>
        :'a -> ('a list -> 'a option) -> 'a list -> 'a option
    <tr><td>
        <STRONG><font color="black">llist_abs</font></STRONG>
        <td>
        :('a list -> 'a option) -> 'a llist
    <tr><td>
        <STRONG><font color="black">fromList</font></STRONG>
        <td>
        :'a list -> 'a llist
    
</table>
</center>

<H1><font color="black">Definitions</font></H1>
<DL>
<DT><STRONG><font color="black">lrep_take</font></STRONG>
<DD>
<PRE>
|- (!f. lrep_take f 0 = SOME []) /\
   !f n.
     lrep_take f (SUC n) =
     case lrep_take f n of
        NONE -> NONE
     || SOME pfx ->
          case f pfx of NONE -> NONE || SOME a -> SOME (APPEND pfx [a])
</PRE>

<DT><STRONG><font color="black">lrep_ok</font></STRONG>
<DD>
<PRE>
|- !f. lrep_ok f = !l x. (f l = SOME x) ==> ?n. lrep_take f n = SOME l
</PRE>

<DT><STRONG><font color="black">llist_TY_DEF</font></STRONG>
<DD>
<PRE>
|- ?rep. TYPE_DEFINITION lrep_ok rep
</PRE>

<DT><STRONG><font color="black">llist_absrep</font></STRONG>
<DD>
<PRE>
|- (!a. llist_abs (llist_rep a) = a) /\
   !r. lrep_ok r = (llist_rep (llist_abs r) = r)
</PRE>

<DT><STRONG><font color="black">lnil_rep</font></STRONG>
<DD>
<PRE>
|- lnil_rep = (\l. NONE)
</PRE>

<DT><STRONG><font color="black">LNIL</font></STRONG>
<DD>
<PRE>
|- LNIL = llist_abs lnil_rep
</PRE>

<DT><STRONG><font color="black">ldest_rep</font></STRONG>
<DD>
<PRE>
|- !f.
     ldest_rep f =
     case f [] of NONE -> NONE || SOME x -> SOME (x,(\l. f (x::l)))
</PRE>

<DT><STRONG><font color="black">LDEST</font></STRONG>
<DD>
<PRE>
|- !ll.
     LDEST ll =
     case ldest_rep (llist_rep ll) of
        NONE -> NONE
     || SOME p -> SOME (FST p,llist_abs (SND p))
</PRE>

<DT><STRONG><font color="black">LHD</font></STRONG>
<DD>
<PRE>
|- !ll. LHD ll = OPTION_MAP FST (ldest_rep (llist_rep ll))
</PRE>

<DT><STRONG><font color="black">LTL</font></STRONG>
<DD>
<PRE>
|- !ll. LTL ll = OPTION_MAP (llist_abs o SND) (ldest_rep (llist_rep ll))
</PRE>

<DT><STRONG><font color="black">lcons_rep</font></STRONG>
<DD>
<PRE>
|- !h t.
     lcons_rep h t =
     (\l. (if l = [] then SOME h else (if HD l = h then t (TL l) else NONE)))
</PRE>

<DT><STRONG><font color="black">LCONS</font></STRONG>
<DD>
<PRE>
|- !h t. LCONS h t = llist_abs (lcons_rep h (llist_rep t))
</PRE>

<DT><STRONG><font color="black">lbuildn_rep</font></STRONG>
<DD>
<PRE>
|- (!f x. lbuildn_rep f x 0 = SOME ([],x)) /\
   !f x n.
     lbuildn_rep f x (SUC n) =
     case NONE
       (\(pfx,x').
          case NONE (\(x'',last). SOME (APPEND pfx [last],x'')) (f x'))
       (lbuildn_rep f x n)
</PRE>

<DT><STRONG><font color="black">lbuild_rep</font></STRONG>
<DD>
<PRE>
|- !f x.
     lbuild_rep f x =
     (\pfx.
        case NONE
          (\(pfx',nthseed).
             (if pfx' = pfx then OPTION_MAP SND (f nthseed) else NONE))
          (lbuildn_rep f x (LENGTH pfx)))
</PRE>

<DT><STRONG><font color="black">LMAP</font></STRONG>
<DD>
<PRE>
|- (!f. LMAP f LNIL = LNIL) /\
   !f h t. LMAP f (LCONS h t) = LCONS (f h) (LMAP f t)
</PRE>

<DT><STRONG><font color="black">LTAKE</font></STRONG>
<DD>
<PRE>
|- (!ll. LTAKE 0 ll = SOME []) /\
   !n ll.
     LTAKE (SUC n) ll =
     case LHD ll of
        NONE -> NONE
     || SOME hd ->
          case LTAKE n (THE (LTL ll)) of
             NONE -> NONE
          || SOME tl -> SOME (hd::tl)
</PRE>

<DT><STRONG><font color="black">LAPPEND</font></STRONG>
<DD>
<PRE>
|- (!x. LAPPEND LNIL x = x) /\
   !h t x. LAPPEND (LCONS h t) x = LCONS h (LAPPEND t x)
</PRE>

<DT><STRONG><font color="black">LFINITE</font></STRONG>
<DD>
<PRE>
|- !ll. LFINITE ll = ?n. LTAKE n ll = NONE
</PRE>

<DT><STRONG><font color="black">LLENGTH</font></STRONG>
<DD>
<PRE>
|- !ll.
     LLENGTH ll =
     (if LFINITE ll then
        SOME
          ((@n.
              (LTAKE n ll = NONE) /\
              !m. m < n ==> ?ll'. LTAKE m ll = SOME ll') - 1)
      else
        NONE)
</PRE>

<DT><STRONG><font color="black">toList</font></STRONG>
<DD>
<PRE>
|- !ll. toList ll = (if LFINITE ll then LTAKE (THE (LLENGTH ll)) ll else NONE)
</PRE>

<DT><STRONG><font color="black">fromList</font></STRONG>
<DD>
<PRE>
|- (fromList [] = LNIL) /\ !h t. fromList (h::t) = LCONS h (fromList t)
</PRE>

<DT><STRONG><font color="black">LDROP</font></STRONG>
<DD>
<PRE>
|- (!ll. LDROP 0 ll = SOME ll) /\
   !n ll. LDROP (SUC n) ll = OPTION_JOIN (OPTION_MAP (LDROP n) (LTL ll))
</PRE>

<DT><STRONG><font color="black">LNTH</font></STRONG>
<DD>
<PRE>
|- (!ll. LNTH 0 ll = LHD ll) /\
   !n ll. LNTH (SUC n) ll = OPTION_JOIN (OPTION_MAP (LNTH n) (LTL ll))
</PRE>

<DT><STRONG><font color="black">firstPelemAt</font></STRONG>
<DD>
<PRE>
|- !P n ll.
     firstPelemAt P n ll =
     case F P (LNTH n ll) /\ !m. m < n ==> (OPTION_MAP P (LNTH m ll) = SOME F)
</PRE>

<DT><STRONG><font color="black">never</font></STRONG>
<DD>
<PRE>
|- !P ll. never P ll = !n. ~firstPelemAt P n ll
</PRE>

<DT><STRONG><font color="black">LFILTER</font></STRONG>
<DD>
<PRE>
|- !P ll.
     LFILTER P ll =
     (if never P ll then
        LNIL
      else
        (if P (THE (LHD ll)) then
           LCONS (THE (LHD ll)) (LFILTER P (THE (LTL ll)))
         else
           LFILTER P (THE (LTL ll))))
</PRE>

<DT><STRONG><font color="black">LL_ALL</font></STRONG>
<DD>
<PRE>
|- !P ll. LL_ALL P ll = never ($~ o P) ll
</PRE>

<DT><STRONG><font color="black">LFLATTEN</font></STRONG>
<DD>
<PRE>
|- !ll.
     LFLATTEN ll =
     (if LL_ALL ($= LNIL) ll then
        LNIL
      else
        (if THE (LHD ll) = LNIL then
           LFLATTEN (THE (LTL ll))
         else
           LCONS (THE (LHD (THE (LHD ll))))
             (LFLATTEN (LCONS (THE (LTL (THE (LHD ll)))) (THE (LTL ll))))))
</PRE>

</DL>


<HR>

<HR>
<H1><font color="black">Theorems</font></H1>
<DL>
<DT><STRONG><font color="black">LHDTL_CONS_THM</font></STRONG>
<DD>
<PRE>
|- !h t. (LHD (LCONS h t) = SOME h) /\ (LTL (LCONS h t) = SOME t)
</PRE>

<DT><STRONG><font color="black">llist_CASES</font></STRONG>
<DD>
<PRE>
|- !l. (l = LNIL) \/ ?h t. l = LCONS h t
</PRE>

<DT><STRONG><font color="black">LHD_THM</font></STRONG>
<DD>
<PRE>
|- (LHD LNIL = NONE) /\ !h t. LHD (LCONS h t) = SOME h
</PRE>

<DT><STRONG><font color="black">LTL_THM</font></STRONG>
<DD>
<PRE>
|- (LTL LNIL = NONE) /\ !h t. LTL (LCONS h t) = SOME t
</PRE>

<DT><STRONG><font color="black">LCONS_NOT_NIL</font></STRONG>
<DD>
<PRE>
|- !h t. ~(LCONS h t = LNIL) /\ ~(LNIL = LCONS h t)
</PRE>

<DT><STRONG><font color="black">LCONS_11</font></STRONG>
<DD>
<PRE>
|- !h1 t1 h2 t2. (LCONS h1 t1 = LCONS h2 t2) = (h1 = h2) /\ (t1 = t2)
</PRE>

<DT><STRONG><font color="black">llist_Axiom</font></STRONG>
<DD>
<PRE>
|- !f.
     ?g.
       (!x. LHD (g x) = OPTION_MAP SND (f x)) /\
       !x. LTL (g x) = OPTION_MAP (g o FST) (f x)
</PRE>

<DT><STRONG><font color="black">LHD_EQ_NONE</font></STRONG>
<DD>
<PRE>
|- !ll. (LHD ll = NONE) = (ll = LNIL)
</PRE>

<DT><STRONG><font color="black">LTL_EQ_NONE</font></STRONG>
<DD>
<PRE>
|- !ll. (LTL ll = NONE) = (ll = LNIL)
</PRE>

<DT><STRONG><font color="black">LHDTL_EQ_SOME</font></STRONG>
<DD>
<PRE>
|- !h t ll. (ll = LCONS h t) = (LHD ll = SOME h) /\ (LTL ll = SOME t)
</PRE>

<DT><STRONG><font color="black">LTAKE_THM</font></STRONG>
<DD>
<PRE>
|- (!l. LTAKE 0 l = SOME []) /\ (!n. LTAKE (SUC n) LNIL = NONE) /\
   !n h t. LTAKE (SUC n) (LCONS h t) = OPTION_MAP (CONS h) (LTAKE n t)
</PRE>

<DT><STRONG><font color="black">LTAKE_EQ</font></STRONG>
<DD>
<PRE>
|- !ll1 ll2. (ll1 = ll2) = !n. LTAKE n ll1 = LTAKE n ll2
</PRE>

<DT><STRONG><font color="black">LLIST_BISIMULATION</font></STRONG>
<DD>
<PRE>
|- !ll1 ll2.
     (ll1 = ll2) =
     ?R.
       R ll1 ll2 /\
       !ll3 ll4.
         R ll3 ll4 ==>
         (ll3 = LNIL) /\ (ll4 = LNIL) \/
         (LHD ll3 = LHD ll4) /\ R (THE (LTL ll3)) (THE (LTL ll4))
</PRE>

<DT><STRONG><font color="black">LMAP_APPEND</font></STRONG>
<DD>
<PRE>
|- !f ll1 ll2. LMAP f (LAPPEND ll1 ll2) = LAPPEND (LMAP f ll1) (LMAP f ll2)
</PRE>

<DT><STRONG><font color="black">LAPPEND_ASSOC</font></STRONG>
<DD>
<PRE>
|- !ll1 ll2 ll3. LAPPEND (LAPPEND ll1 ll2) ll3 = LAPPEND ll1 (LAPPEND ll2 ll3)
</PRE>

<DT><STRONG><font color="black">LMAP_MAP</font></STRONG>
<DD>
<PRE>
|- !f g ll. LMAP f (LMAP g ll) = LMAP (f o g) ll
</PRE>

<DT><STRONG><font color="black">LAPPEND_NIL_2ND</font></STRONG>
<DD>
<PRE>
|- !ll. LAPPEND ll LNIL = ll
</PRE>

<DT><STRONG><font color="black">LFINITE_THM</font></STRONG>
<DD>
<PRE>
|- (LFINITE LNIL = T) /\ !h t. LFINITE (LCONS h t) = LFINITE t
</PRE>

<DT><STRONG><font color="black">LTAKE_NIL_EQ_SOME</font></STRONG>
<DD>
<PRE>
|- !l m. (LTAKE m LNIL = SOME l) = (m = 0) /\ (l = [])
</PRE>

<DT><STRONG><font color="black">LTAKE_NIL_EQ_NONE</font></STRONG>
<DD>
<PRE>
|- !m. (LTAKE m LNIL = NONE) = 0 < m
</PRE>

<DT><STRONG><font color="black">LTAKE_CONS_EQ_NONE</font></STRONG>
<DD>
<PRE>
|- !m h t.
     (LTAKE m (LCONS h t) = NONE) = ?n. (m = SUC n) /\ (LTAKE n t = NONE)
</PRE>

<DT><STRONG><font color="black">LTAKE_CONS_EQ_SOME</font></STRONG>
<DD>
<PRE>
|- !m h t l.
     (LTAKE m (LCONS h t) = SOME l) =
     (m = 0) /\ (l = []) \/
     ?n l'. (m = SUC n) /\ (LTAKE n t = SOME l') /\ (l = h::l')
</PRE>

<DT><STRONG><font color="black">LTAKE_EQ_NONE</font></STRONG>
<DD>
<PRE>
|- !ll n. (LTAKE n ll = NONE) ==> 0 < n
</PRE>

<DT><STRONG><font color="black">LTAKE_EQ_SOME_CONS</font></STRONG>
<DD>
<PRE>
|- !n l x. (LTAKE n l = SOME x) ==> !h. ?y. LTAKE n (LCONS h l) = SOME y
</PRE>

<DT><STRONG><font color="black">LLENGTH_THM</font></STRONG>
<DD>
<PRE>
|- (LLENGTH LNIL = SOME 0) /\
   !h t. LLENGTH (LCONS h t) = OPTION_MAP SUC (LLENGTH t)
</PRE>

<DT><STRONG><font color="black">LFINITE_HAS_LENGTH</font></STRONG>
<DD>
<PRE>
|- !ll. LFINITE ll ==> ?n. LLENGTH ll = SOME n
</PRE>

<DT><STRONG><font color="black">NOT_LFINITE_NO_LENGTH</font></STRONG>
<DD>
<PRE>
|- !ll. ~LFINITE ll ==> (LLENGTH ll = NONE)
</PRE>

<DT><STRONG><font color="black">LFINITE_INDUCTION</font></STRONG>
<DD>
<PRE>
|- !P. P LNIL /\ (!t. P t ==> !h. P (LCONS h t)) ==> !ll. LFINITE ll ==> P ll
</PRE>

<DT><STRONG><font color="black">LFINITE_STRONG_INDUCTION</font></STRONG>
<DD>
<PRE>
|- P LNIL /\ (!t. LFINITE t /\ P t ==> !h. P (LCONS h t)) ==>
   !ll. LFINITE ll ==> P ll
</PRE>

<DT><STRONG><font color="black">LFINITE_MAP</font></STRONG>
<DD>
<PRE>
|- !f ll. LFINITE (LMAP f ll) = LFINITE ll
</PRE>

<DT><STRONG><font color="black">LFINITE_APPEND</font></STRONG>
<DD>
<PRE>
|- !ll1 ll2. LFINITE (LAPPEND ll1 ll2) = LFINITE ll1 /\ LFINITE ll2
</PRE>

<DT><STRONG><font color="black">NOT_LFINITE_APPEND</font></STRONG>
<DD>
<PRE>
|- !ll1 ll2. ~LFINITE ll1 ==> (LAPPEND ll1 ll2 = ll1)
</PRE>

<DT><STRONG><font color="black">LLENGTH_MAP</font></STRONG>
<DD>
<PRE>
|- !ll f. LLENGTH (LMAP f ll) = LLENGTH ll
</PRE>

<DT><STRONG><font color="black">LLENGTH_APPEND</font></STRONG>
<DD>
<PRE>
|- !ll1 ll2.
     LLENGTH (LAPPEND ll1 ll2) =
     (if LFINITE ll1 /\ LFINITE ll2 then
        SOME (THE (LLENGTH ll1) + THE (LLENGTH ll2))
      else
        NONE)
</PRE>

<DT><STRONG><font color="black">toList_THM</font></STRONG>
<DD>
<PRE>
|- (toList LNIL = SOME []) /\
   !h t. toList (LCONS h t) = OPTION_MAP (CONS h) (toList t)
</PRE>

<DT><STRONG><font color="black">LFINITE_fromList</font></STRONG>
<DD>
<PRE>
|- !l. LFINITE (fromList l)
</PRE>

<DT><STRONG><font color="black">LLENGTH_fromList</font></STRONG>
<DD>
<PRE>
|- !l. LLENGTH (fromList l) = SOME (LENGTH l)
</PRE>

<DT><STRONG><font color="black">LTAKE_fromList</font></STRONG>
<DD>
<PRE>
|- !l. LTAKE (LENGTH l) (fromList l) = SOME l
</PRE>

<DT><STRONG><font color="black">from_toList</font></STRONG>
<DD>
<PRE>
|- !l. toList (fromList l) = SOME l
</PRE>

<DT><STRONG><font color="black">LFINITE_toList</font></STRONG>
<DD>
<PRE>
|- !ll. LFINITE ll ==> ?l. toList ll = SOME l
</PRE>

<DT><STRONG><font color="black">to_fromList</font></STRONG>
<DD>
<PRE>
|- !ll. LFINITE ll ==> (fromList (THE (toList ll)) = ll)
</PRE>

<DT><STRONG><font color="black">LDROP_THM</font></STRONG>
<DD>
<PRE>
|- (!ll. LDROP 0 ll = SOME ll) /\ (!n. LDROP (SUC n) LNIL = NONE) /\
   !n h t. LDROP (SUC n) (LCONS h t) = LDROP n t
</PRE>

<DT><STRONG><font color="black">LDROP1_THM</font></STRONG>
<DD>
<PRE>
|- LDROP 1 = LTL
</PRE>

<DT><STRONG><font color="black">NOT_LFINITE_TAKE</font></STRONG>
<DD>
<PRE>
|- !ll. ~LFINITE ll ==> !n. ?y. LTAKE n ll = SOME y
</PRE>

<DT><STRONG><font color="black">LFINITE_TAKE</font></STRONG>
<DD>
<PRE>
|- !n ll. LFINITE ll /\ n <= THE (LLENGTH ll) ==> ?y. LTAKE n ll = SOME y
</PRE>

<DT><STRONG><font color="black">NOT_LFINITE_DROP</font></STRONG>
<DD>
<PRE>
|- !ll. ~LFINITE ll ==> !n. ?y. LDROP n ll = SOME y
</PRE>

<DT><STRONG><font color="black">LFINITE_DROP</font></STRONG>
<DD>
<PRE>
|- !n ll. LFINITE ll /\ n <= THE (LLENGTH ll) ==> ?y. LDROP n ll = SOME y
</PRE>

<DT><STRONG><font color="black">LTAKE_DROP</font></STRONG>
<DD>
<PRE>
|- (!n ll.
      ~LFINITE ll ==>
      (LAPPEND (fromList (THE (LTAKE n ll))) (THE (LDROP n ll)) = ll)) /\
   !n ll.
     LFINITE ll /\ n <= THE (LLENGTH ll) ==>
     (LAPPEND (fromList (THE (LTAKE n ll))) (THE (LDROP n ll)) = ll)
</PRE>

<DT><STRONG><font color="black">LNTH_THM</font></STRONG>
<DD>
<PRE>
|- (!n. LNTH n LNIL = NONE) /\ (!h t. LNTH 0 (LCONS h t) = SOME h) /\
   !n h t. LNTH (SUC n) (LCONS h t) = LNTH n t
</PRE>

<DT><STRONG><font color="black">never_THM</font></STRONG>
<DD>
<PRE>
|- (!P. never P LNIL = T) /\ !P h t. never P (LCONS h t) = ~P h /\ never P t
</PRE>

<DT><STRONG><font color="black">firstPelemAt_SUC</font></STRONG>
<DD>
<PRE>
|- !P n h t. firstPelemAt P (SUC n) (LCONS h t) ==> firstPelemAt P n t
</PRE>

<DT><STRONG><font color="black">LFILTER_THM</font></STRONG>
<DD>
<PRE>
|- (!P. LFILTER P LNIL = LNIL) /\
   !P h t.
     LFILTER P (LCONS h t) =
     (if P h then LCONS h (LFILTER P t) else LFILTER P t)
</PRE>

<DT><STRONG><font color="black">LL_ALL_THM</font></STRONG>
<DD>
<PRE>
|- (!P. LL_ALL P LNIL = T) /\ !P h t. LL_ALL P (LCONS h t) = P h /\ LL_ALL P t
</PRE>

<DT><STRONG><font color="black">LFILTER_NIL</font></STRONG>
<DD>
<PRE>
|- !P ll. LL_ALL ($~ o P) ll ==> (LFILTER P ll = LNIL)
</PRE>

<DT><STRONG><font color="black">LFILTER_APPEND</font></STRONG>
<DD>
<PRE>
|- !P ll1 ll2.
     LFINITE ll1 ==>
     (LFILTER P (LAPPEND ll1 ll2) = LAPPEND (LFILTER P ll1) (LFILTER P ll2))
</PRE>

<DT><STRONG><font color="black">firstPelemAt_CONS</font></STRONG>
<DD>
<PRE>
|- !P n h t.
     firstPelemAt P n (LCONS h t) =
     (n = 0) /\ P h \/ ?m. (n = SUC m) /\ firstPelemAt P m t /\ ~P h
</PRE>

<DT><STRONG><font color="black">LFLATTEN_THM</font></STRONG>
<DD>
<PRE>
|- (LFLATTEN LNIL = LNIL) /\ (!tl. LFLATTEN (LCONS LNIL t) = LFLATTEN t) /\
   !h t tl. LFLATTEN (LCONS (LCONS h t) tl) = LCONS h (LFLATTEN (LCONS t tl))
</PRE>

<DT><STRONG><font color="black">LFLATTEN_EQ_NIL</font></STRONG>
<DD>
<PRE>
|- !ll. (LFLATTEN ll = LNIL) = LL_ALL ($= LNIL) ll
</PRE>

<DT><STRONG><font color="black">LFLATTEN_SINGLETON</font></STRONG>
<DD>
<PRE>
|- !h. LFLATTEN (LCONS h LNIL) = h
</PRE>

<DT><STRONG><font color="black">LFLATTEN_APPEND</font></STRONG>
<DD>
<PRE>
|- !h t. LFLATTEN (LCONS h t) = LAPPEND h (LFLATTEN t)
</PRE>

</DL>



<HR>
</BODY>
</HTML>
