OPTIONS = NO_OVERLAY

UOFILES = $(patsubst %.sml,%.uo,$(wildcard *.sml))

FRS = FunctionalRecordUpdate

all: $(UOFILES) selftest.exe $(FRS).uo GetOpt.ui GetOpt.uo

selftest.exe: selftest.uo Redblackset.uo
	$(MOSMLC) -o $@ $<

$(FRS).sml: $(dprot $(HOLDIR)/tools-poly/Holmake/$(FRS).sml)
	$(CP) $< $@

GetOpt.sig: $(dprot $(HOLDIR)/tools/Holmake/GetOpt.sig)
	$(CP) $< $@

GetOpt.sml: $(dprot $(HOLDIR)/tools/Holmake/GetOpt.sml)
	$(CP) $< $@

EXTRA_CLEANS = $(FRS).sml GetOpt.sig GetOpt.sml
