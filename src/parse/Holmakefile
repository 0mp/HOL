EXTRA_CLEANS = base_lexer.sml

SELFTEST_DEPS = $(dprot $(SIGOBJ)/Lib.uo) $(dprot $(SIGOBJ)/Type.uo) \
                $(dprot $(SIGOBJ)/PPBackEnd.uo) \
	        $(dprot $(SIGOBJ)/PP.uo)

all: base_lexer.sml selftest.exe

base_lexer.sml: base_lexer
	$(protect $(HOLDIR)/tools/mllex/mllex.exe) base_lexer

Unicode.ui: $(dprot $(SIGOBJ)/UnicodeChars.ui)

selftest.exe: selftest.uo $(SELFTEST_DEPS)
	$(HOLMOSMLC) -o $@ $<
